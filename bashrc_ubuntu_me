SYSTEM_VER="linux"
RC_FILE="~/.bashrc"

source ~/dotfiles/bashrc_common
if [ -e ~/dotfiles/local_config/bashrc_local ]
then
    source ~/dotfiles/local_config/bashrc_local
fi

# check if this is a ros terminal
if [[ -n $TMUX_ROS ]]
then

    if [[ -n $TMUX_ROS_CATKIN_WS_PATH ]]
    then
        source $TMUX_ROS_CATKIN_WS_PATH/devel/setup.bash
    else
        if [[ -e .catkin_workspace ]]
        then
            source devel/setup.bash
            # no need to set the path variable here because the variable cannot
            # be shared to other terminals in the same tmux
        else
            source /opt/ros/noetic/setup.bash
        fi
    fi
source ~/dotfiles/bashrc_ros
fi

#need to install graphviz first
#alias for dot --Tue Mar  3 17:23:32 HKT 2015
ComplieDot() {
        if [ $# -eq 0 ] #the number of input arguments equal to zero
                then
                        /usr/local/bin/dot -Tpng -O *.dot;
                else
                        /usr/local/bin/dot -Tpng -o $1.png $1.dot;
        fi
}
alias dt="ComplieDot"

#some funny commands
# sl fortune cowsay cmatrix figlet

# need to install youtube-dl
# alias for youtube-dl --Sun May 17 13:09:28 HKT 2015
alias ydl="youtube-dl"

# for the auto-completion in bash
if ! shopt -oq posix; then
  if [ -f /usr/share/bash-completion/bash_completion ]; then
    . /usr/share/bash-completion/bash_completion
  elif [ -f /etc/bash_completion ]; then
    . /etc/bash_completion
  fi
fi

[ -f /usr/share/autojump/autojump.sh ] && . /usr/share/autojump/autojump.sh

# the drive tool is so cool that deserves a shortcut --Wed Aug 22 20:55:52 EDT 2018
alias d="drive"

# brew no autoupdate -- Wed Nov 06 02:39:53 EST 2019
alias brew="HOMEBREW_NO_AUTO_UPDATE=1 brew"

# Thu May 17 18:08:17 EDT 2018
alias mt="matlab -nodesktop -nosplash"

ros(){
    export TMUX_ROS=1
    if [[ -e .catkin_workspace ]]
    then
        export TMUX_ROS_CATKIN_WS_PATH=$PWD
    fi
    tmux new-session -d -s ROS -n Sys
    tmux set status-bg black
    tmux set status-fg white
    tmux new-window -n Launches
    tmux new-window -n Nodes
    tmux attach -t ROS
}

setros(){
    export TMUX_ROS_CATKIN_WS_PATH=$PWD
}

# vim:set et sw=4 ts=4 ft=bash:
