export PATH="/$HOME/dotfiles/bash_scripts:/$HOME/dotfiles/local_config/bash_scripts:/usr/local/sbin:$HOME/local/bin:$PATH:."

# depends on different linux distributions
# for common linux distributions the following command is needed for colorful ls
[[ $SYSTEM_VER = "linux" ]] && alias ls="ls --color=auto" || alias ls="ls -Gp"

alias sudo='sudo '
alias la="ls -A"
alias al="la"
alias ll="ls -aoghlF"
alias ld="ls -aoghlFd"
alias cp="cp -i"
alias mv="mv -i"
alias mkdir="mkdir -p"

laclean(){
    if [[ $# == 0 ]]
    then
        rm  *.out *.dvi *.aux *.fdb_latexmk *.fls *.log *.ps 2>/dev/null
    else
        i=${1%.*}
        rm  $i.out $i.dvi $i.aux $i.fdb_latexmk $i.fls $i.log $i.ps 2>/dev/null
    fi
    return 0
}

lmk(){
    if [[ $# == 0 ]]
    then
        ls *.tex >> /dev/null 2>1
        if [[ $? == 0 ]]
        then
            latexmk -xelatex -pvc -pdf *.tex
            # latexmk  -pdf *.tex
            # laclean
        else
            echo "No tex file found, exit"
            return
        fi
    else
        if  [[ -e $1 ]]
        then
            latexmk -xelatex -pvc -pdf $1
            # laclean $1
        else
            echo "$1 not found, exit"
            return
        fi
    fi
    if [[ $? == 0 ]]
    then
        latexmk -c
        if [[ -e 1 ]]
        then
            rm 1
        fi
        echo "The temp files have been cleared."
    else
        echo "Error occurred, temp files saved."
    fi
}

# note alias doesn't take variables. so it has to be a function
brc(){
    eval source $RC_FILE
}
ebrc(){
    eval vim $RC_FILE
}

alias ebrcc="vim ~/dotfiles/bashrc_common"
alias ebrcl="vim ~/dotfiles/local_config/bashrc_local"
alias evrc="vim ~/dotfiles/vimrc"
alias evn="vim ~/dotfiles/vim/docs/updating_notes.txt"
alias e="vim"
alias v="view"
alias vd="vimdiff"
alias n="nano"
alias tree="tree -C"
alias du="du -hsc"
alias cao="./executable"
alias hosts="sudo vim /etc/hosts"


#some funny commands
# sl fortune cowsay cmatrix figlet
# the alias for sublime text --Tue Apr 14 17:23:50 HKT 2015

# recode the gb18030 to utf8
alias g2u="recode GB18030..UTF8"
# recode all the files in the folder
g2ua(){
    for i in $(ls -p | grep -v /)
    do
            recode GB18030..UTF8 $i
    done
}

# load all the alias for ssh and sshfs
# first the alias for ssh
declare READ_SSH_TEMP
if [[ -e ~/dotfiles/ssh_list.txt ]]
then
    while read -r line
    do
        if [[ `echo $line | head -c 1` != "#" ]]
        then
            READ_SSH_TEMP=( $line )
            if [[ ${READ_SSH_TEMP[0]} == 0 ]]
            then
                alias ${READ_SSH_TEMP[1]}="ssh ${READ_SSH_TEMP[2]}"
            else
                alias ${READ_SSH_TEMP[1]}="ssh -X ${READ_SSH_TEMP[2]}"
            fi
        fi
    done < ~/dotfiles/ssh_list.txt
fi

# then the alias for sshfs
if [[ -e ~/dotfiles/ssh_mount_list.txt ]]
then
    while read -r line
    do
        if [[ `echo $line | head -c 1` != "#" ]]
        then
            READ_SSH_TEMP=( $line )
            alias ${READ_SSH_TEMP[0]}="sshfs ${READ_SSH_TEMP[1]} ${READ_SSH_TEMP[2]}"
        fi
    done < ~/dotfiles/ssh_mount_list.txt
fi

# the shortcut for making a directory and cd into it
mcd(){ [ $# != '0' ] && mkdir $1 && cd $1; }

